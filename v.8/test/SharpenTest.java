import org.junit.Before;
import org.junit.Test;

import java.io.IOException;

import model.ImageModel;
import model.ImageModelImpl;

import static org.junit.Assert.assertEquals;

/**
 * Tests to sharpen images.
 */
public class SharpenTest {

  private ImageModel test;

  @Before
  public void setUp() throws IOException {
    test = new ImageModelImpl();
    test.loadPPM("res/Snail.ppm", "snail");
  }

  @Test
  public void testSharpenOnce() {
    test.loadPPM("res/SnailSharpen1.ppm", "SnailSharpen");
    test.sharpen("snail", "SnailSharpenTransformed");
    assertEquals(test.getImageRep("SnailSharpen"),
            test.getImageRep("SnailSharpenTransformed"));
  }

  //sharpen an image twice
  @Test
  public void testSharpenTwice() {
    test.loadPPM("res/SnailSharpen2.ppm", "SnailSharpenTwice");
    test.loadPPM("res/SnailSharpen1.ppm", "SnailSharpen");
    test.sharpen("SnailSharpen", "SnailSharpenTwiceTransformed");
    assertEquals(test.getImageRep("SnailSharpenTwice"),
            test.getImageRep("SnailSharpenTwiceTransformed"));
  }

  //blur non-ppm image
  @Test
  public void testSharpenPNG() {
    test.loadPPM("res/SnailSharpen1PNG.png", "SnailSharpenPNG");
    test.sharpen("snail", "SnailSharpenTransformed");
    assertEquals(test.getImageRep("SnailSharpenPNG"),
            test.getImageRep("SnailSharpenTransformed"));
  }

  //blur sharpened image and compare it to normal image (done)
  @Test
  public void testBlurSharpened() {
    test.loadPPM("res/SnailSharpen.ppm", "SnailSharpen");
    test.loadPPM("res/SnailBlur.ppm", "SnailBlur");
    test.sharpen("SnailBlur", "SnailSharpenBlurred");
    assertEquals(test.getImageRep("snail"),
            test.getImageRep("SnailSharpenBlurred"));
  }
}
